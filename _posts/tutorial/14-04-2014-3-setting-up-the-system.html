---
title: 3. Setting up the system
permalink: /tutorial/setting-up-the-system.html
category: tutorial
layout: default
---

<div class="page-header">
	<h1>
		Setting up the system
	</h1>
</div>

<div class="row">
	<div class="col-md-12">
		<p>
			First we have to create a two files the application file <code>app.js</code> and <code>config.js</code> the file config.js will hold all the config options <br />
			like default output format and databases.
		</p>
		<p>
			The app.js is very simple below is an example to use in a project.
	{% highlight javascript linenos %}
	var raddish = require('raddish');

	raddish.setConfig(require('./config.json');
	raddish.setApplication('foo', 'apps/foo/app.js');

	raddish.start();{% endhighlight %}
		</p>
		<p>
			This will require raddish as the npm module and all we have to do here is set the config, this can either be the config.js file or an Object literal.
			<br/> After this we register our "foo" application and point it to the application file. Here you can have as much applications as you want.<br/>
			After this has been done we will start raddish by calling the start command.
		</p>
		<p>
			Next is the config.json where all the configuration options are set. Below I will give an example to use.

	{% highlight javascript linenos %}
	{
        "db": {
            "default": {
                "host": "localhost",
                "port": 3306,
                "user": "root",
                "password": "root",
                "database": "foo",
                "prefix": false,
                "type": "mysql" // Defaults to mysql but can be set to: mysql or mongo
            }
        },
        "router": {
            "cors": {
                "origin": "*",
                "headers": "*",
                "credentials": true,
                "method": ["get", "post"],
            },
            "routes": {
                "/foo": "/home/menu/items"
            }
        },
        "loader": {
            "sequence": [
                "<App>:<Component>.<Path>.default",
                "<App>:default.<Path>.<Name>",
                "<App>:default.<Path>.default",
                "core:<Path>.<Name>",
                "core:<Path>.<Type>"
            ]
        },
        "cache": true,
        "format": "json",
        "gzip": false,
        "port": 1337,
        "publicFolder": "/public", // This is required
        "threads": {
            "maxThreads": 16,
            "maxThreshold": 50,
            "minThreshold": 10,
            "interval": 500
        }
	}{% endhighlight %}
		</p>
		<p>
			We will explain the values

		<dl>
			<dt>db</dt>
			<dd>
				This object holds all the database connections there must be a default connection <br />
				this one will be used by default for other connections you can add ass many as you need/ want.
			</dd>

            <br/>
			<dt>router</dt>
			<dd>
				This is the router config, in here you can set the CORS (Cross-Origin Resource Sharing) headers, <br/>
				and the routes used in the system.
			</dd>

            <br/>
            <dt>loader</dt>
            <dd>
                This controls the sequence in which the loader will search for a fallback. <br/>
                If you want you can implement your own fallbacks here. The value shown here is the default value when there is none given.
            </dd>

            <br/>
            <dt>cache</dt>
            <dd>
                This controls which the cache will be enabled. <br/>
                When enabled it gived a huge speed increase.
            </dd>

            <br/>
			<dt>format</dt>
			<dd>
				This is the default format which will be outputted by the system, by default this is JSON <br />
				this can be changed to every layout you want. Also if you want a single request to have a different layout <br />
				you can send the get-variable layout in the request with the needed layout type, by default only JSON is in the core.
			</dd>

            <br/>
			<dt>gzip</dt>
			<dd>Allow the response data to be gzipped to save bandwith data, this might be useful for mobile applications.</dd>

            <br/>
			<dt>port</dt>
			<dd>The port on which the application will listen.</dd>

            <br/>
            <dt>publicFolder</dt>
            <dd>
                This is the path to the folder which is used to return the static files.
            </dd>

            <br/>
			<dt>threads</dt>
			<dd>
				This is a special one, this one can contain false, true or an object <br/>
				When giving false the threading will be completely disabled, when give try it will be started with the default settings as shown in the example <br/>
				When given an object you can override some or all the defaults.
			</dd>
		</dl>
		</p>
		<p>
			This was it for the basic setup and some information about the basics of the system.
		</p>
	</div>
</div>