---
title: lib/inflector/inflector.js - Raddish API
category: api
layout: default
---

<div class="row">
    <div class="col-md-3">
        <h1>Classes</h1>
        
        <ul class="nav nav-pills nav-stacked">
                <li {% if page.url == '/docs/classes/AbstractAdapter.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/AbstractAdapter.html">AbstractAdapter</a>
                </li>
                <li {% if page.url == '/docs/classes/AbstractDispatcher.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/AbstractDispatcher.html">AbstractDispatcher</a>
                </li>
                <li {% if page.url == '/docs/classes/Application.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Application.html">Application</a>
                </li>
                <li {% if page.url == '/docs/classes/CommandBehavior.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/CommandBehavior.html">CommandBehavior</a>
                </li>
                <li {% if page.url == '/docs/classes/CommandChain.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/CommandChain.html">CommandChain</a>
                </li>
                <li {% if page.url == '/docs/classes/CommandContext.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/CommandContext.html">CommandContext</a>
                </li>
                <li {% if page.url == '/docs/classes/Controller.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Controller.html">Controller</a>
                </li>
                <li {% if page.url == '/docs/classes/ControllerAbstract.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ControllerAbstract.html">ControllerAbstract</a>
                </li>
                <li {% if page.url == '/docs/classes/DefaultAuthenticator.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/DefaultAuthenticator.html">DefaultAuthenticator</a>
                </li>
                <li {% if page.url == '/docs/classes/Dispatcher.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Dispatcher.html">Dispatcher</a>
                </li>
                <li {% if page.url == '/docs/classes/Inflector.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Inflector.html">Inflector</a>
                </li>
                <li {% if page.url == '/docs/classes/Mixin.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Mixin.html">Mixin</a>
                </li>
                <li {% if page.url == '/docs/classes/Model.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Model.html">Model</a>
                </li>
                <li {% if page.url == '/docs/classes/ModelAbstract.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ModelAbstract.html">ModelAbstract</a>
                </li>
                <li {% if page.url == '/docs/classes/MongoAdapter.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/MongoAdapter.html">MongoAdapter</a>
                </li>
                <li {% if page.url == '/docs/classes/MysqlAdapter.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/MysqlAdapter.html">MysqlAdapter</a>
                </li>
                <li {% if page.url == '/docs/classes/ObjectIdentifier.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ObjectIdentifier.html">ObjectIdentifier</a>
                </li>
                <li {% if page.url == '/docs/classes/ObjectLoader.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ObjectLoader.html">ObjectLoader</a>
                </li>
                <li {% if page.url == '/docs/classes/ObjectManager.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ObjectManager.html">ObjectManager</a>
                </li>
                <li {% if page.url == '/docs/classes/Plugin.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Plugin.html">Plugin</a>
                </li>
                <li {% if page.url == '/docs/classes/RaddishError.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/RaddishError.html">RaddishError</a>
                </li>
                <li {% if page.url == '/docs/classes/Role.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Role.html">Role</a>
                </li>
                <li {% if page.url == '/docs/classes/Router.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Router.html">Router</a>
                </li>
                <li {% if page.url == '/docs/classes/Row.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Row.html">Row</a>
                </li>
                <li {% if page.url == '/docs/classes/RowAbstract.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/RowAbstract.html">RowAbstract</a>
                </li>
                <li {% if page.url == '/docs/classes/Rowset.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Rowset.html">Rowset</a>
                </li>
                <li {% if page.url == '/docs/classes/RowsetAbstract.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/RowsetAbstract.html">RowsetAbstract</a>
                </li>
                <li {% if page.url == '/docs/classes/Socket.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Socket.html">Socket</a>
                </li>
                <li {% if page.url == '/docs/classes/SqliteAdapter.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/SqliteAdapter.html">SqliteAdapter</a>
                </li>
                <li {% if page.url == '/docs/classes/States.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/States.html">States</a>
                </li>
                <li {% if page.url == '/docs/classes/Table.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/Table.html">Table</a>
                </li>
                <li {% if page.url == '/docs/classes/ViewAbstract.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ViewAbstract.html">ViewAbstract</a>
                </li>
                <li {% if page.url == '/docs/classes/ViewJson.html' %} class="active" {% endif %}>
                    <a href="/docs/classes/ViewJson.html">ViewJson</a>
                </li>
        </ul>    </div>
    <div class="col-md-9">
        <h1>File: lib/inflector/inflector.js</h1>
        
        
        {% highlight javascript linenos %}
        /**
         * Inflector class to allow REST
         *
         * @class Inflector
         * @since 28 March 2014
         * @author Jasper van Rijbroek <jasper@jvar.nl>
         * @constructor
         */
        function Inflector() {
            this.plurals = [
                [/move$/i, 'moves'],
                [/sex$/i,'sexes'],
                [/child$/i, 'children'],
                [/man$/i, 'men'],
                [/foot$/i, 'feet'],
                [/person$/i, 'people'],
                [/taxon$/i, 'taxa'],
                [/(quiz)$/i, '$1zes'],
                [/^(ox)$/i, '$1en'],
                [/(m|l)ouse$/i, '$1ice'],
                [/(matr|vert|ind|suff)ix|ex$/i, '$1ices'],
                [/(x|ch|ss|sh)$/i, '$1es'],
                [/([^aeiouy]|qu)y$/i, '$1ies'],
                [/(?:([^f])fe|([lr])f)$/i, '$1$2ves'],
                [/sis$/i, 'ses'],
                [/([ti]|addend)um$/i, '$1a'],
                [/(alumn|formul)a$/i, '$1ae'],
                [/(buffal|tomat|her)o$/i, '$1oes'],
                [/(bu)s$/i, '$1ses'],
                [/(alias|status)$/i, '$1es'],
                [/(octop|vir)us$/i, '$1i'],
                [/(gen)us$/i, '$1era'],
                [/(ax|test)is$/i, '$1es'],
                [/s$/i, 's'],
                [/$/, 's']
            ];
        
            this.singulars = [
                [/cookies$/i, 'cookie'],
                [/moves$/i, 'move'],
                [/sexes$/i, 'sex'],
                [/children$/i, 'child'],
                [/men$/i, 'man'],
                [/feet$/i, 'foot'],
                [/people$/i, 'person'],
                [/taxa$/i, 'taxon'],
                [/databases$/i, 'database'],
                [/(quiz)zes$/i, '$1'],
                [/(matr|suff)ices$/i, '$1ix'],
                [/(vert|ind)ices$/i, '$1ex'],
                [/^(ox)en/i, '$1'],
                [/(alias|status)es$/i, '$1'],
                [/(alias|status)$/i, '$1'],
                [/(tomato|hero|buffalo)es$/i, '$1'],
                [/([octop|vir])i$/i, '$1us'],
                [/(gen)era$/i, '$1us'],
                [/(cris|^ax|test)es$/i, '$1is'],
                [/(shoe)s$/i, '$1'],
                [/(o)es$/i, '$1'],
                [/(bus)es$/i, '$1'],
                [/([m|l])ice$/i, '$1ouse'],
                [/(x|ch|ss|sh)es$/i, '$1'],
                [/(m)ovies$/i, '$1ovie'],
                [/(s)eries$/i, '$1eries'],
                [/([^aeiouy]|qu)ies$/i, '$1y'],
                [/([lr])ves$/i, '$1f'],
                [/(tive)s$/i, '$1'],
                [/(hive)s$/i, '$1'],
                [/([^f])ves$/i, '$1fe'],
                [/(^analy)ses$/i, '$1sis'],
                [/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i, '$1$2sis'],
                [/([ti]|addend)a$/i, '$1um'],
                [/(alumn|formul)ae$/i, '$1a'],
                [/(n)ews$/i, '$1ews'],
                [/(.*)ss$/i, '$1ss'],
                [/(.*)s$/i, '$1']
            ];
        
            this.uncountables = [
                'aircraft',
                'cannon',
                'deer',
                'equipment',
                'fish',
                'information',
                'money',
                'moose',
                'rice',
                'series',
                'sheep',
                'species',
                'swine'
            ];
        
            this.defined = [];
        
            /**
             * Define a special rule in the inflector
             *
             * @param {String} single The singular of the rule
             * @param {String} plural The plural of the rule
             */
            this.define = function (single, plural) {
                this.defined.push({ single: single, plural: plural});
            };
        
            this.isDefined = function (property, word) {
                var definedWord = undefined;
        
                for(var i = 0; i < this.defined.length; i++) {
                    definedWord = this.defined[i];
        
                    if (definedWord[property] === word) {
                        return true;
                    }
                }
        
                return false;
            };
        
            this.getDefined = function (property, word) {
                var definedWord = undefined;
        
                for(var i = 0; i < this.defined.length; i++) {
                    definedWord = this.defined[i];
        
                    if (definedWord[property] === word) {
                        return definedWord;
                    }
                }
        
                return undefined;
            };
        
            /**
             * singularize method will make a singular of a plural word
             * If the word is singular it will do nothing.
             *
             * @method singularize
             * @param {String} word Word to singularize
             * @returns {String} Singular word
             */
            this.singularize = function (word) {
                var defined;
                if ((defined = this.getDefined('plural', word)) !== undefined) {
                    return defined.single;
                }
        
                var wlc = word.toLowerCase();
        
                for (var i = 0; i < this.uncountables.length; i++) {
                    var uncountable = this.uncountables[i];
                    if (wlc == uncountable) {
                        return word;
                    }
                }
        
                for (var i = 0; i < this.singulars.length; i++) {
                    var rule = this.singulars[i][0];
                    var replacement = this.singulars[i][1];
                    if (rule.test(word) !== false) {
                        return word.replace(rule, replacement);
                    }
                }
        
                return word;
            }
        
            /**
             * Function to make the first letter of a sentence capital
             *
             * @method capitalize
             * @param {String} word Word to capitalize
             * @return {String} Capitalized word
             */
            this.capitalize = function (word) {
                return word.substring(0,1).toUpperCase() + word.substring(1, word.length);
            };
        
            /**
             * pluralize method will make a plural from a singular word
             * when the word is plural it will do nothing
             *
             * @method pluralize
             * @param {string} word Word to pluralize
             * @returns {String} Plural word
             */
            this.pluralize = function (word) {
                var defined;
                if ((defined = this.getDefined('single', word)) !== undefined) {
                    return defined.plural;
                }
        
                // Make the word singular.
                word = this.singularize(word);
                var wlc = word.toLowerCase();
        
                for (var i = 0; i < this.uncountables.length; i++) {
                    var uncountable = this.uncountables[i];
                    if (wlc === uncountable) {
                        return word;
                    }
                }
        
                for (var i = 0; i < this.plurals.length; i++) {
                    var rule = this.plurals[i][0];
                    var replacement = this.plurals[i][1];
        
                    if (rule.test(word) !== false) {
                        return word.replace(rule, replacement);
                    }
                }
        
                return word;
            }
        
            /**
             * isSingular method will check if the word is singular or not.
             * If the work is singular it returns true, else false is returned
             *
             * @method isSingular
             * @param {String} word The word to check
             * @returns {boolean} True or false.
             */
            this.isSingular = function (word) {
                if (this.singularize(this.pluralize(word)) === word) {
                    return true;
                }
                return false;
            }
        
            /**
             * isPlural method will check if the word is plural or not.
             * If the work is plural it returns true, else false is returned
             *
             * @method isPlural
             * @param {String} word The word to check
             * @returns {boolean} True or false.
             */
            this.isPlural = function (word) {
                if (this.pluralize(this.singularize(word)) === word) {
                    return true;
                }
                return false;
            }
        }
        
        module.exports = new Inflector();
        {% endhighlight %}    </div>
</div>